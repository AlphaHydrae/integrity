%form{ :method => "post", :action => (@project.new_record? ? "/" : project_url(@project)) }
  - unless @project.new_record?
    .hidden
      %input{ :name => "_method", :type => "hidden", :value => "put" }

  %p.required
    %label{ :for => "project_name" } Name:
    %input.text#project_name{ :name => "name", :type => "text", :value => @project.name }
    
  %p.required
    %label{ :for => "project_repository" } Git Repository:
    %input.text#project_repository{ :name => "uri", :type => "text", :value => @project.uri }
      
  %p.normal
    %label{ :for => "project_branch" } Branch to track:
    %input.text#project_branch{ :name => "branch", :type => "text", :value => "master", :value => @project.branch }
  
  %p.normal
    %label{ :for => "project_build_script" } Build script:
    %textarea#project_build_script{ :name => "command", :type => "text", :rows => 1 }= @project.command.to_s

  %p.normal.checkbox
    %label{ :for => "project_privacy" } Public project:
    %input.checkbox#project_privacy{ :name => "public", :type => "checkbox", :checked => (@project.public? ? "checked" : "") }

  %p.submit
    %button.positive{ :type => "submit" }= @project.new_record? ? "Create Project" : "Update Project"
